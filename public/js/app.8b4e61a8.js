(function(t){function e(e){for(var n,a,i=e[0],c=e[1],u=e[2],p=0,f=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},s={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},4678:function(t,e,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="4678"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n,s,o=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("main-header"),r("router-view"),r("main-footer"),t.isChatOpen?r("chat-popup",[r("chat-app")],1):r("button",{staticClass:"chat-btn",on:{click:t.toggleChat}},[t._v("Chat")])],1)},i=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"chat-popup"},[t._t("header"),t._t("default"),t._t("footer")],2)},u=[],l={},p=l,f=r("2877"),d=Object(f["a"])(p,c,u,!1,null,null,null),m=d.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"chat-app"},[r("ul",{ref:"chatMsgs",staticClass:"msgs"},t._l(t.msgs,(function(e){return r("li",{key:e._id,staticClass:"msg"},[t._v(t._s(e.txt))])})),0),r("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],attrs:{type:"text"},domProps:{value:t.txt},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMsg(t.txt)},input:function(e){e.target.composing||(t.txt=e.target.value)}}})])},h=[],v={data:function(){return{txt:""}},computed:{msgs:function(){return this.$store.getters.msgs}},methods:{sendMsg:function(t){var e=this;this.$store.commit({type:"sendMsg",txt:t}),this.txt="",this.$store.dispatch({type:"reply"}).then((function(){e.$refs.chatMsgs.scrollIntoView(!1)}))}},created:function(){var t=this;document.body.addEventListener("keyup",(function(e){"Escape"===e.key&&t.$store.commit({type:"closeChat"})}))},destroyed:function(){var t=this;document.body.removeEventListener("keyup",(function(e){"Escape"===e.key&&t.$store.commit({type:"closeChat"})}))}},g=v,b=Object(f["a"])(g,y,h,!1,null,null,null),j=b.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"main-header site-block"},[n("header",[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:r("cf05"),alt:"logo"}})]),n("form",{on:{submit:function(e){return e.preventDefault(),t.filterToys(t.filterBy)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text"},domProps:{value:t.filterBy.txt},on:{input:function(e){e.target.composing||t.$set(t.filterBy,"txt",e.target.value)}}}),n("button",[t._v("Search")])]),n("div",{staticClass:"username"},[n("span",[t._v("Hello")]),n("router-link",{staticClass:"user-link",attrs:{to:"/user/profile"}},[t._v(t._s(t.userName))])],1)],1),n("nav-filter",{on:{input:function(e){return t.filterToys(t.filterBy)}},model:{value:t.filterBy.type,callback:function(e){t.$set(t.filterBy,"type",e)},expression:"filterBy.type"}})],1)},_=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"nav-filter nav-flex"},[r("div",{staticClass:"nav-item",on:{click:function(e){return t.emitInput("Funny")}}},[t._v("Funny")]),r("div",{staticClass:"nav-item",on:{click:function(e){return t.emitInput("Educational")}}},[t._v("Educational")]),r("div",{staticClass:"nav-item",on:{click:function(e){return t.emitInput("Adult")}}},[t._v("Adult")]),r("div",{staticClass:"nav-item",on:{click:function(e){return t.emitInput("All")}}},[t._v("All")])])},x=[],C={props:{value:String},methods:{emitInput:function(t){this.$emit("input",t),"/"!==this.$route.path&&this.$router.push("/")}}},$=C,O=Object(f["a"])($,w,x,!1,null,null,null),S=O.exports,T={data:function(){return{filterBy:null}},computed:{userName:function(){var t=this.$store.getters.loggedinUser;return t?t.username:"Guest"}},methods:{getFilter:function(){this.filterBy=JSON.parse(JSON.stringify(this.$store.getters.filterBy))},filterToys:function(t){this.$store.commit({type:"filterToys",filterBy:t}),this.$store.dispatch({type:"loadToys"})}},watch:{"this.$store.getters.filterBy.type":function(t,e){this.filterBy.type=e},"this.$store.getters.filterBy.inStock":function(t,e){this.filterBy.inStock=e}},created:function(){this.getFilter()},components:{navFilter:S}},B=T,E=Object(f["a"])(B,k,_,!1,null,null,null),U=E.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"main-footer center-flex"},[r("p",[t._v("oz amsalem @2020 coffeerights")])])}],N={},z=Object(f["a"])(N,P,I,!1,null,null,null),R=z.exports,A={methods:{toggleChat:function(){this.$store.commit({type:"toggleChat"})}},computed:{isChatOpen:function(){return this.$store.getters.isChat}},components:{chatPopup:m,chatApp:j,mainHeader:U,mainFooter:R}},M=A,J=Object(f["a"])(M,a,i,!1,null,null,null),D=J.exports,F=r("8c4f"),L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about-page"},[r("h1",[t._v("This is an about page")])])}],G={},H=Object(f["a"])(G,L,q,!1,null,null,null),V=H.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toy-app main-layout site-block"},[r("toy-header"),t.toys?r("toy-list",{attrs:{toys:t.toys}}):t._e(),r("div",{staticClass:"add-btn-container"},[r("router-link",{staticClass:"add-btn",attrs:{to:"/toy/edit"}},[t._v("+")])],1)],1)},Y=[],K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"toy-list card-grid "},t._l(t.toys,(function(t){return r("toy-preview",{key:t._id,attrs:{toy:t}})})),1)},Q=[],X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"toy-preview"},[r("router-link",{attrs:{to:"/toy/details/"+t.toy._id}},[r("img",{attrs:{src:t.imgUrl,alt:"product"}})]),r("router-link",{attrs:{to:"/toy/details/"+t.toy._id}},[r("div",{staticClass:"name"},[t._v(t._s(t._f("capitalize")(t.toy.name)))])]),r("div",{staticClass:"price"},[t._v(t._s(t._f("price")(t.toy.price)))])],1)},Z=[],tt={computed:{imgUrl:function(){var t="http://res.cloudinary.com/ramus/image/upload/v1584397996/iwtdenwldxi67errhflg.png";return this.toy.imgUrl?this.toy.imgUrl:t}},props:{toy:Object}},et=tt,rt=Object(f["a"])(et,X,Z,!1,null,null,null),nt=rt.exports,st={props:{toys:Array},components:{toyPreview:nt}},ot=st,at=Object(f["a"])(ot,K,Q,!1,null,null,null),it=at.exports,ct={},ut=Object(f["a"])(ct,n,s,!1,null,null,null),lt=ut.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"toy-header site-block"},[r("div",{staticClass:"sort-box"},[r("label",{attrs:{for:"inStock"}},[t._v("Only in stock")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.inStock,expression:"filterBy.inStock"}],attrs:{id:"inStock",type:"checkbox"},domProps:{checked:Array.isArray(t.filterBy.inStock)?t._i(t.filterBy.inStock,null)>-1:t.filterBy.inStock},on:{change:[function(e){var r=t.filterBy.inStock,n=e.target,s=!!n.checked;if(Array.isArray(r)){var o=null,a=t._i(r,o);n.checked?a<0&&t.$set(t.filterBy,"inStock",r.concat([o])):a>-1&&t.$set(t.filterBy,"inStock",r.slice(0,a).concat(r.slice(a+1)))}else t.$set(t.filterBy,"inStock",s)},function(e){return t.filterToys(t.filterBy)}]}}),r("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"sort-select",attrs:{placeholder:"Sort By"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?r:r[0]},function(e){return t.sortToys(t.sortBy)}]}},[r("option",{attrs:{value:"null",disabled:"",selected:"",hidden:""}},[t._v("Sort")]),r("option",{attrs:{value:"name"}},[t._v("Name")]),r("option",{attrs:{value:"price"}},[t._v("Price")])])])])},ft=[],dt={data:function(){return{filterBy:null,sortBy:null}},methods:{getFilter:function(){this.filterBy=JSON.parse(JSON.stringify(this.$store.getters.filterBy))},filterToys:function(t){this.$store.commit({type:"filterToys",filterBy:t}),this.$store.dispatch({type:"loadToys"})},sortToys:function(t){this.$store.commit({type:"sortToys",sortBy:t}),this.$store.dispatch({type:"loadToys"})}},watch:{"this.$store.getters.filterBy.txt":function(t,e){this.filterBy.txt=e}},created:function(){this.getFilter()}},mt=dt,yt=Object(f["a"])(mt,pt,ft,!1,null,null,null),ht=yt.exports,vt={methods:{filterToys:function(t){this.$store.commit({type:"filterToys",filterBy:t}),this.$store.dispatch({type:"loadToys"})},sortToys:function(t){this.$store.commit({type:"sortToys",sortBy:t}),this.$store.dispatch({type:"loadToys"})}},computed:{toys:function(){return this.$store.getters.toys}},created:function(){var t=this.$store.getters.loggedinUser;t||this.$router.push("/login");var e={txt:"",type:"All",inStock:!1};this.$store.commit({type:"filterToys",filterBy:e}),this.$store.dispatch({type:"loadToys"})},components:{toyList:it,toyFilter:lt,toyHeader:ht}},gt=vt,bt=Object(f["a"])(gt,W,Y,!1,null,null,null),jt=bt.exports,kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.toy?r("section",{staticClass:"toy-details"},[r("img",{attrs:{src:t.imgUrl,alt:"product"}}),r("div",{staticClass:"name"},[t._v(t._s(t._f("capitalize")(t.toy.name)))]),r("div",{class:t.stockClass},[t._v(t._s(t.inStock))]),r("div",{staticClass:"price"},[t._v(t._s(t._f("price")(t.toy.price)))]),r("div",{staticClass:"type"},[t._v("Type: "+t._s(t.toy.type))]),r("div",{staticClass:"created"},[t._v("Added at: "+t._s(t._f("date")(t.toy.createdAt)))]),r("div",{staticClass:"menu"},[r("button",{on:{click:t.remove}},[t._v("Delete product")]),r("router-link",{attrs:{to:"/toy/edit/"+t.toy._id}},[t._v("Edit")]),r("router-link",{attrs:{to:"/"}},[t._v("Back")])],1)]):t._e()},_t=[],wt=(r("99af"),r("96cf"),r("1da1")),xt=r("2f62"),Ct=(r("c740"),r("a434"),{state:{toys:[],filterBy:{txt:"",type:null,inStock:!1},sortBy:null},getters:{toys:function(t){return t.toys},filterBy:function(t){return t.filterBy}},mutations:{setToys:function(t,e){var r=e.toys;t.toys=r},addToy:function(t,e){var r=e.toy;t.toys.unshift(r)},updateToy:function(t,e){var r=e.toy,n=t.toys.findIndex((function(t){return t._id===r._id}));t.toys.splice(n,1,r)},removeToy:function(t,e){var r=e.toyId,n=t.toys.findIndex((function(t){return t._id===r}));t.toys.splice(n,1)},filterToys:function(t,e){var r=e.filterBy;t.filterBy=JSON.parse(JSON.stringify(r))},sortToys:function(t,e){var r=e.sortBy;t.sortBy=r}},actions:{loadToys:function(t){return Object(wt["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={filterBy:t.state.filterBy,sortBy:t.state.sortBy},e.next=3,oe.query(r);case 3:return n=e.sent,t.commit({type:"setToys",toys:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))()},loadToy:function(t,e){var r=e.toyId;return Object(wt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.getById(r);case 2:return n=e.sent,t.commit({type:"updateToy",toy:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},saveToy:function(t,e){var r=e.toy;return Object(wt["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!!r._id,e.next=3,oe.save(r);case 3:return s=e.sent,t.commit({type:n?"updateToy":"addToy",toy:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))()},removeToy:function(t,e){return Object(wt["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,oe.remove(e.toyId);case 2:t.commit(e);case 3:case"end":return r.stop()}}),r)})))()}}}),$t=(r("d3b7"),[]);function Ot(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function St(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}Et();var Tt={makeId:Ot,getRandomInt:St,makeLorem:Bt};function Bt(t){var e="";while(e.length<t){var r=$t[St(1,28)];e+=r+" "}return e=e[0].toUpperCase()+e.substr(1),e}function Et(){$t[1]="escapology",$t[2]="brightwork",$t[3]="verkrampte",$t[4]="protectrix",$t[5]="nudibranch",$t[6]="grandchild",$t[7]="newfangled",$t[8]="flugelhorn",$t[9]="mythologer",$t[10]="pluperfect",$t[11]="jellygraph",$t[12]="quickthorn",$t[13]="rottweiler",$t[14]="technician",$t[15]="cowpuncher",$t[16]="middlebrow",$t[17]="jackhammer",$t[18]="triphthong",$t[19]="wunderkind",$t[20]="dazzlement",$t[21]="jabberwock",$t[22]="witchcraft",$t[23]="pawnbroker",$t[24]="thumbprint",$t[25]="motorcycle",$t[26]="cryptogram",$t[27]="torchlight",$t[28]="bankruptcy"}var Ut={state:{msgs:[],isChat:!1},getters:{msgs:function(t){return t.msgs},isChat:function(t){return t.isChat}},mutations:{sendMsg:function(t,e){var r=e.txt,n={_id:Tt.makeId(),txt:"You: "+r};t.msgs.push(n)},reply:function(t){var e={_id:Tt.makeId(),txt:"Support: Im not going to reply.."};t.msgs.push(e)},toggleChat:function(t){t.isChat=!t.isChat},closeChat:function(t){t.isChat=!1}},actions:{reply:function(t){return new Promise((function(e,r){setTimeout((function(){t.commit({type:"reply"}),e()}),1200)}))}}};function Pt(t){return JSON.parse(sessionStorage.getItem(t))}function It(t,e){sessionStorage.setItem(t,JSON.stringify(e))}var Nt={get:Pt,set:It},zt={login:Dt,logout:Gt,signup:Lt,getUsers:Vt,getById:At,remove:Mt,update:Jt,getLoggedInUser:Rt};function Rt(){return Nt.get("user")||null}function At(t){return ee.get("user/".concat(t))}function Mt(t){return ee.delete("user/".concat(t))}function Jt(t){return ee.put("user/".concat(t._id),t)}function Dt(t){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(wt["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.post("auth/login",e);case 2:return r=t.sent,t.prev=3,Wt(r),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t["catch"](3),console.log("ERR: Unauthorized"),new Error;case 12:case"end":return t.stop()}}),t,null,[[3,8]])}))),Ft.apply(this,arguments)}function Lt(t){return qt.apply(this,arguments)}function qt(){return qt=Object(wt["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.post("auth/signup",e);case 2:return r=t.sent,t.prev=3,t.abrupt("return",Wt(r));case 7:throw t.prev=7,t.t0=t["catch"](3),console.log("ERR: Unauthorized"),new Error;case 11:case"end":return t.stop()}}),t,null,[[3,7]])}))),qt.apply(this,arguments)}function Gt(){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),Ht.apply(this,arguments)}function Vt(){return ee.get("user")}function Wt(t){return Nt.set("user",t),t}var Yt={state:{loggedinUser:zt.getLoggedInUser()},getters:{loggedinUser:function(t){return t.loggedinUser}},mutations:{setUsers:function(t,e){var r=e.users;t.users=r},login:function(t,e){var r=e.user;t.loggedinUser=r},updateUser:function(t,e){var r=e.user;zt.updateUser(r),t.loggedinUser=r}},actions:{login:function(t,e){var r=e.credentials;return Object(wt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zt.login(r);case 3:return n=e.sent,t.commit({type:"login",user:n}),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log(user),console.log("error - unautorized"),new Error;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},signup:function(t,e){var r=e.credentials;return Object(wt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zt.signup(r);case 2:n=e.sent;try{t.commit({type:"login",user:n})}catch(s){console.log("error - not singed up")}case 4:case"end":return e.stop()}}),e)})))()}}};o["a"].use(xt["a"]);var Kt=new xt["a"].Store({strict:!0,modules:{toyStore:Ct,chatStore:Ut,userStore:Yt}}),Qt=r("bc3a"),Xt=r.n(Qt),Zt="/api/",te=Xt.a.create({withCredentials:!0}),ee={get:function(t,e){return re(t,"GET",e)},post:function(t,e){return re(t,"POST",e)},put:function(t,e){return re(t,"PUT",e)},delete:function(t,e){return re(t,"DELETE",e)}};function re(t){return ne.apply(this,arguments)}function ne(){return ne=Object(wt["a"])(regeneratorRuntime.mark((function t(e){var r,n,s,o,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"get",n=a.length>2&&void 0!==a[2]?a[2]:null,t.prev=2,s={url:"".concat(Zt).concat(e),method:r},"get"===r||"GET"===r?s.params={data:n}:s.data=n,t.next=7,te(s);case 7:return o=t.sent,t.abrupt("return",o.data);case 11:if(t.prev=11,t.t0=t["catch"](2),401!==t.t0.response.status){t.next=16;break}throw Ye.push("/login"),new Error("Unautonticated");case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),ne.apply(this,arguments)}var se="toy",oe={query:ae,getById:ie,getEmptyToy:le,remove:ce,save:ue};function ae(t){return ee.get(se,t)}function ie(t){return ee.get("".concat(se,"/").concat(t))}function ce(t){return ee.delete("".concat(se,"/").concat(t))}function ue(t){return t._id?ee.put("".concat(se,"/").concat(t._id),t):ee.post("".concat(se),t)}function le(){return{name:"",price:0,type:"Funny",createdAt:Date.now(),inStock:!0}}var pe={data:function(){return{toy:null}},methods:{remove:function(){var t=this;this.$store.dispatch({type:"removeToy",toyId:this.toy._id}).then((function(){t.$router.push("/")}))}},computed:{inStock:function(){return this.toy.inStock?"In Stock":"Out of stock"},imgUrl:function(){var t="http://res.cloudinary.com/ramus/image/upload/v1584397996/iwtdenwldxi67errhflg.png";return this.toy.imgUrl?this.toy.imgUrl:t},stockClass:function(){return this.toy.inStock?"stock":"out-of-stock"}},created:function(){var t=this,e=this.$route.params.toyId;oe.getById(e).then((function(e){return t.toy=e}))}},fe=pe,de=(r("64c2"),Object(f["a"])(fe,kt,_t,!1,null,"1210c335",null)),me=de.exports,ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.toy?r("section",{staticClass:"toy-edit"},[r("h2",[t._v(t._s(t.toy._id?"Edit":"Add")+" Toy")]),r("form",{staticClass:"edit-form",on:{submit:function(e){return e.preventDefault(),t.saveToy(t.toy)}}},[r("label",[t._v("Toy name:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.name,expression:"toy.name"}],attrs:{type:"text",placeholder:"Toy name"},domProps:{value:t.toy.name},on:{input:function(e){e.target.composing||t.$set(t.toy,"name",e.target.value)}}}),r("label",[t._v("Toy price:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.price,expression:"toy.price"}],attrs:{type:"number",placeholder:"Toy price"},domProps:{value:t.toy.price},on:{input:function(e){e.target.composing||t.$set(t.toy,"price",e.target.value)}}}),r("input",{attrs:{type:"file",placeholder:"Upload product image"},on:{change:t.uploadImg}}),t.isUploading?t._e():r("button",{staticClass:"save-btn"},[t._v("Save")])])]):t._e()},he=[],ve=(r("b0c0"),{uploadImg:ge});function ge(t){var e="ramus",r="https://api.cloudinary.com/v1_1/".concat(e,"/image/upload"),n=new FormData;return n.append("file",t.target.files[0]),n.append("upload_preset","nhn1typb"),fetch(r,{method:"POST",body:n}).then((function(t){return t.json()})).then((function(t){return console.log(t),t.url})).catch((function(t){return console.error(t)}))}var be={data:function(){return{toy:null,isUploading:!1}},methods:{saveToy:function(t){var e=this;t.price=+t.price,t.name=t.name.toLowerCase(),this.$store.dispatch({type:"saveToy",toy:t}).then((function(t){e.$router.push("/")})).catch((function(t){return console.log(t)}))},uploadImg:function(t){var e=this;return Object(wt["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.isUploading=!0,r.prev=1,r.next=4,ve.uploadImg(t);case 4:n=r.sent,e.toy.imgUrl=n,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log("Uploading failed");case 11:e.isUploading=!1;case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()}},created:function(){var t=this,e=this.$route.params.toyId;e?oe.getById(e).then((function(e){t.toy=JSON.parse(JSON.stringify(e))})):this.toy=oe.getEmptyToy()}},je=be,ke=Object(f["a"])(je,ye,he,!1,null,null,null),_e=ke.exports,we=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"login-page"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.login(t.credentials)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.email,expression:"credentials.email"}],staticClass:"login-box",attrs:{name:"email",type:"text",placeholder:"Email address"},domProps:{value:t.credentials.email},on:{input:function(e){e.target.composing||t.$set(t.credentials,"email",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"login-box",attrs:{name:"password",type:"password",placeholder:"Password"},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),r("button",{staticClass:"login-btn classic-btn"},[t._v("Login")])]),r("router-link",{attrs:{to:"/singup"}},[t._v("Dont have a user yet? Singup")])],1)},xe=[],Ce={data:function(){return{credentials:{email:"",password:""}}},methods:{login:function(t){var e=this;return Object(wt["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"login",credentials:t});case 3:e.$router.push("/"),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.log("Try again");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}},$e=Ce,Oe=Object(f["a"])($e,we,xe,!1,null,null,null),Se=Oe.exports,Te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"signup-page"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.singup(t.credentials)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.email,expression:"credentials.email"}],staticClass:"login-box",attrs:{name:"email",type:"email",placeholder:"Email"},domProps:{value:t.credentials.email},on:{input:function(e){e.target.composing||t.$set(t.credentials,"email",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.username,expression:"credentials.username"}],staticClass:"login-box",attrs:{name:"username",type:"text",placeholder:"Username"},domProps:{value:t.credentials.username},on:{input:function(e){e.target.composing||t.$set(t.credentials,"username",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"login-box",attrs:{name:"pass",type:"password",placeholder:"Password"},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPass,expression:"confirmPass"}],staticClass:"login-box",attrs:{name:"confirmPass",type:"password",placeholder:"Confirm your password"},domProps:{value:t.confirmPass},on:{input:function(e){e.target.composing||(t.confirmPass=e.target.value)}}}),r("button",{staticClass:"signup-btn classic-btn"},[t._v("Sign Up")])]),t._v(" Already have a user? "),r("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)},Be=[],Ee={data:function(){return{credentials:{email:"",username:"",password:""},confirmPass:""}},methods:{singup:function(t){var e=this;return Object(wt["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.credentials.password!==e.confirmPass){r.next=6;break}return r.next=3,e.$store.dispatch({type:"signup",credentials:t});case 3:e.$router.push("/"),r.next=7;break;case 6:console.log("Wrong confirm password");case 7:case"end":return r.stop()}}),r)})))()}}},Ue=Ee,Pe=Object(f["a"])(Ue,Te,Be,!1,null,null,null),Ie=Pe.exports,Ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.user?r("section",{staticClass:"user-profile"},[r("h1",[t._v("Profile")]),r("form",{on:{submit:function(e){return t.updateUser()}}},[t._v(" Username: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userCopy.username,expression:"userCopy.username"}],attrs:{type:"text"},domProps:{value:t.userCopy.username},on:{input:function(e){e.target.composing||t.$set(t.userCopy,"username",e.target.value)}}}),r("div",{staticClass:"fav-color-containet"},[t._v(" Favorite Color: "),r("div",{staticClass:"fav-color",style:t.favColorStyle})]),t._v(" Set: "),r("color-picker",{model:{value:t.userCopy.prefs.color,callback:function(e){t.$set(t.userCopy.prefs,"color",e)},expression:"userCopy.prefs.color"}}),r("button",[t._v("Save")])],1)]):t._e()},ze=[],Re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"color-picker"},[r("div",{staticClass:"color-btn palette-white",on:{click:function(e){return t.setColor("fdfdfd")}}}),r("div",{staticClass:"color-btn palette-red",on:{click:function(e){return t.setColor("ff8888")}}}),r("div",{staticClass:"color-btn palette-orange",on:{click:function(e){return t.setColor("ffcc88")}}}),r("div",{staticClass:"color-btn palette-yellow",on:{click:function(e){return t.setColor("ffff88")}}}),r("div",{staticClass:"color-btn palette-green",on:{click:function(e){return t.setColor("ccff99")}}}),r("div",{staticClass:"color-btn palette-blue",on:{click:function(e){return t.setColor("aaffee")}}}),r("div",{staticClass:"color-btn palette-purple",on:{click:function(e){return t.setColor("ddbbff")}}})])},Ae=[],Me={data:function(){return{color:this.value}},methods:{setColor:function(t){this.color=t,this.$emit("input",this.color)},emitColor:function(t){}},props:{value:String}},Je=Me,De=Object(f["a"])(Je,Re,Ae,!1,null,null,null),Fe=De.exports,Le={data:function(){return{userCopy:JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))}},methods:{updateUser:function(){this.$store.commit({type:"updateUser",user:JSON.parse(JSON.stringify(this.userCopy))}),this.$router.push("/")}},computed:{user:function(){return this.$store.getters.loggedinUser},favColorStyle:function(){return{backgroundColor:"#"+this.userCopy.prefs.color}}},created:function(){this.$store.getters.loggedinUser||this.$router.push("/login")},components:{colorPicker:Fe}},qe=Le,Ge=Object(f["a"])(qe,Ne,ze,!1,null,null,null),He=Ge.exports;o["a"].use(F["a"]);var Ve=[{path:"/",name:"ToyApp",component:jt},{path:"/about",name:"About",component:V},{path:"/login",name:"Login",component:Se},{path:"/singup",name:"Singup",component:Ie},{path:"/toy/details/:toyId",name:"ToyDetails",component:me},{path:"/toy/edit/:toyId?",name:"ToyEdit",component:_e},{path:"/user/profile",name:"UserProfile",component:He}],We=new F["a"]({routes:Ve}),Ye=We,Ke=(r("4de4"),r("fb6a"),r("c1df")),Qe=r.n(Ke);o["a"].filter("capitalize",(function(t){return t[0].toUpperCase()+t.slice(1)})),o["a"].filter("price",(function(t){return"$"+t})),o["a"].filter("date",(function(t){return Qe()(new Date(t)).fromNow()}));r("b7e3");o["a"].config.productionTip=!1,new o["a"]({router:Ye,store:Kt,render:function(t){return t(D)}}).$mount("#app")},5711:function(t,e,r){},"64c2":function(t,e,r){"use strict";var n=r("5711"),s=r.n(n);s.a},b7e3:function(t,e,r){},cf05:function(t,e,r){t.exports=r.p+"img/logo.7efa6335.png"}});
//# sourceMappingURL=app.8b4e61a8.js.map